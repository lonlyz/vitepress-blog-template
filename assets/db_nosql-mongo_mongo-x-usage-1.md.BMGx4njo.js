import{_ as o,c as u,ai as s,o as a}from"./chunks/framework.BrYByd3F.js";const n="/vitepress-blog-template/images/db/mongo/mongo-x-usage-1.png",q="/vitepress-blog-template/images/db/mongo/mongo-x-usage-2.png",e="/vitepress-blog-template/images/db/mongo/mongo-x-usage-3.png",p="/vitepress-blog-template/images/db/mongo/mongo-x-usage-4.png",i="/vitepress-blog-template/images/db/mongo/mongo-x-usage-5.png",l="/vitepress-blog-template/images/db/mongo/mongo-x-usage-6.png",y=JSON.parse('{"title":"Mongo入门 - 基本使用：安装和CRUD","description":"","frontmatter":{},"headers":[],"relativePath":"db/nosql-mongo/mongo-x-usage-1.md","filePath":"db/nosql-mongo/mongo-x-usage-1.md","lastUpdated":1737706346000}'),d={name:"db/nosql-mongo/mongo-x-usage-1.md"};function c(r,t,m,f,h,b){return a(),u("div",null,t[0]||(t[0]=[s('<h1 id="mongo入门-基本使用-安装和crud" tabindex="-1">Mongo入门 - 基本使用：安装和CRUD <a class="header-anchor" href="#mongo入门-基本使用-安装和crud" aria-label="Permalink to &quot;Mongo入门 - 基本使用：安装和CRUD&quot;">​</a></h1><blockquote><p>在理解MongoDB基础概念后，本文将介绍MongoDB的安装和最基本的CURD操作。@pdai</p></blockquote><h2 id="mongodb安装" tabindex="-1">MongoDB安装 <a class="header-anchor" href="#mongodb安装" aria-label="Permalink to &quot;MongoDB安装&quot;">​</a></h2><blockquote><p>MongoDB的安装比较简单，这里主要给出官方的下载地址，以及官方安装文档的地址，方便大家直达。</p></blockquote><h3 id="一些参考文档" tabindex="-1">一些参考文档 <a class="header-anchor" href="#一些参考文档" aria-label="Permalink to &quot;一些参考文档&quot;">​</a></h3><ul><li><strong>官网下载</strong></li></ul><p><a href="https://www.mongodb.com/try/download/community" target="_blank" rel="noreferrer">官网下载在新窗口打开</a></p><p><img src="'+n+'" alt=""></p><ul><li><strong>官网文档</strong></li></ul><p><a href="https://docs.mongodb.com/v3.6/administration/install-community/" target="_blank" rel="noreferrer">官网文档在新窗口打开</a></p><p><img src="'+q+`" alt=""></p><ul><li><strong>菜鸟教程中安装</strong></li></ul><p><a href="https://www.runoob.com/mongodb/mongodb-window-install.html" target="_blank" rel="noreferrer">菜鸟教程在新窗口打开</a></p><h3 id="以linux为例安装" tabindex="-1">以Linux为例安装 <a class="header-anchor" href="#以linux为例安装" aria-label="Permalink to &quot;以Linux为例安装&quot;">​</a></h3><ul><li>yum源</li></ul><p>创建文件<code>/etc/yum.repos.d/mongodb-org-3.6.repo</code>, 加yum源：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>[mongodb-org-3.6]</span></span>
<span class="line"><span>name=MongoDB Repository</span></span>
<span class="line"><span>baseurl=https://repo.mongodb.org/yum/redhat/$releasever/mongodb-org/3.6/x86_64/</span></span>
<span class="line"><span>gpgcheck=1</span></span>
<span class="line"><span>enabled=1</span></span>
<span class="line"><span>gpgkey=https://www.mongodb.org/static/pgp/server-3.6.asc</span></span></code></pre></div><ul><li>安装</li></ul><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>sudo yum install -y mongodb-org</span></span></code></pre></div><ul><li>运行</li></ul><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>[root@pdai yum.repos.d]# systemctl start mongod</span></span>
<span class="line"><span>[root@pdai yum.repos.d]# sudo systemctl status mongod</span></span>
<span class="line"><span>● mongod.service - MongoDB Database Server</span></span>
<span class="line"><span>   Loaded: loaded (/usr/lib/systemd/system/mongod.service; enabled; vendor preset: disabled)</span></span>
<span class="line"><span>   Active: active (running) since Tue 2020-07-28 09:59:55 CST; 26s ago</span></span>
<span class="line"><span>     Docs: https://docs.mongodb.org/manual</span></span>
<span class="line"><span>  Process: 8868 ExecStart=/usr/bin/mongod $OPTIONS (code=exited, status=0/SUCCESS)</span></span>
<span class="line"><span>  Process: 8865 ExecStartPre=/usr/bin/chmod 0755 /var/run/mongodb (code=exited, status=0/SUCCESS)</span></span>
<span class="line"><span>  Process: 8863 ExecStartPre=/usr/bin/chown mongod:mongod /var/run/mongodb (code=exited, status=0/SUCCESS)</span></span>
<span class="line"><span>  Process: 8862 ExecStartPre=/usr/bin/mkdir -p /var/run/mongodb (code=exited, status=0/SUCCESS)</span></span>
<span class="line"><span> Main PID: 8872 (mongod)</span></span>
<span class="line"><span>   CGroup: /system.slice/mongod.service</span></span>
<span class="line"><span>           └─8872 /usr/bin/mongod -f /etc/mongod.conf</span></span></code></pre></div><h2 id="连接和建库" tabindex="-1">连接和建库 <a class="header-anchor" href="#连接和建库" aria-label="Permalink to &quot;连接和建库&quot;">​</a></h2><ul><li>连接</li></ul><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>[root@pdai yum.repos.d]# mongo --host 127.0.0.1:27017</span></span>
<span class="line"><span>MongoDB shell version v3.6.19</span></span>
<span class="line"><span>connecting to: mongodb://127.0.0.1:27017/?gssapiServiceName=mongodb</span></span>
<span class="line"><span>Implicit session: session { &quot;id&quot; : UUID(&quot;cb27e5a9-600f-4f57-9096-c7348a9ae5f9&quot;) }</span></span>
<span class="line"><span>MongoDB server version: 3.6.19</span></span>
<span class="line"><span>Welcome to the MongoDB shell.</span></span>
<span class="line"><span>For interactive help, type &quot;help&quot;.</span></span>
<span class="line"><span>For more comprehensive documentation, see</span></span>
<span class="line"><span>        http://docs.mongodb.org/</span></span>
<span class="line"><span>Questions? Try the support group</span></span>
<span class="line"><span>        http://groups.google.com/group/mongodb-user</span></span>
<span class="line"><span>Server has startup warnings:</span></span>
<span class="line"><span>2020-07-28T09:59:54.521+0800 I STORAGE  [initandlisten]</span></span>
<span class="line"><span>2020-07-28T09:59:54.521+0800 I STORAGE  [initandlisten] ** WARNING: Using the XFS filesystem is strongly recommended with the WiredTiger storage engine</span></span>
<span class="line"><span>2020-07-28T09:59:54.521+0800 I STORAGE  [initandlisten] **          See http://dochub.mongodb.org/core/prodnotes-filesystem</span></span>
<span class="line"><span>2020-07-28T09:59:55.705+0800 I CONTROL  [initandlisten]</span></span>
<span class="line"><span>2020-07-28T09:59:55.705+0800 I CONTROL  [initandlisten] ** WARNING: Access control is not enabled for the database.</span></span>
<span class="line"><span>2020-07-28T09:59:55.705+0800 I CONTROL  [initandlisten] **          Read and write access to data and configuration is unrestricted.</span></span>
<span class="line"><span>2020-07-28T09:59:55.705+0800 I CONTROL  [initandlisten]</span></span>
<span class="line"><span>2020-07-28T09:59:55.705+0800 I CONTROL  [initandlisten]</span></span>
<span class="line"><span>2020-07-28T09:59:55.705+0800 I CONTROL  [initandlisten] ** WARNING: /sys/kernel/mm/transparent_hugepage/enabled is &#39;always&#39;.</span></span>
<span class="line"><span>2020-07-28T09:59:55.705+0800 I CONTROL  [initandlisten] **        We suggest setting it to &#39;never&#39;</span></span>
<span class="line"><span>2020-07-28T09:59:55.705+0800 I CONTROL  [initandlisten]</span></span>
<span class="line"><span>2020-07-28T09:59:55.705+0800 I CONTROL  [initandlisten] ** WARNING: /sys/kernel/mm/transparent_hugepage/defrag is &#39;always&#39;.</span></span>
<span class="line"><span>2020-07-28T09:59:55.705+0800 I CONTROL  [initandlisten] **        We suggest setting it to &#39;never&#39;</span></span>
<span class="line"><span>2020-07-28T09:59:55.705+0800 I CONTROL  [initandlisten]</span></span>
<span class="line"><span>&gt; show dbs;</span></span>
<span class="line"><span>admin   0.000GB</span></span>
<span class="line"><span>config  0.000GB</span></span>
<span class="line"><span>local   0.000GB</span></span></code></pre></div><ul><li>建库</li></ul><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>&gt; use testdb;</span></span>
<span class="line"><span>switched to db testdb</span></span></code></pre></div><h2 id="crud操作" tabindex="-1">CRUD操作 <a class="header-anchor" href="#crud操作" aria-label="Permalink to &quot;CRUD操作&quot;">​</a></h2><p><a href="https://docs.mongodb.com/v3.6/crud/" target="_blank" rel="noreferrer">官方CRUD文档在新窗口打开</a></p><h3 id="insert" tabindex="-1">Insert <a class="header-anchor" href="#insert" aria-label="Permalink to &quot;Insert&quot;">​</a></h3><ul><li>图例</li></ul><p><img src="`+e+`" alt=""></p><ul><li>示例</li></ul><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>&gt; db.inventory.insertOne(</span></span>
<span class="line"><span>...    { item: &quot;canvas&quot;, qty: 100, tags: [&quot;cotton&quot;], size: { h: 28, w: 35.5, uom: &quot;cm&quot; } }</span></span>
<span class="line"><span>... )</span></span>
<span class="line"><span>{</span></span>
<span class="line"><span>        &quot;acknowledged&quot; : true,</span></span>
<span class="line"><span>        &quot;insertedId&quot; : ObjectId(&quot;5f1f8a9a099483199e74737c&quot;)</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>&gt; db.inventory.insertMany([</span></span>
<span class="line"><span>...    { item: &quot;journal&quot;, qty: 25, tags: [&quot;blank&quot;, &quot;red&quot;], size: { h: 14, w: 21, uom: &quot;cm&quot; } },</span></span>
<span class="line"><span>...    { item: &quot;mat&quot;, qty: 85, tags: [&quot;gray&quot;], size: { h: 27.9, w: 35.5, uom: &quot;cm&quot; } },</span></span>
<span class="line"><span>...    { item: &quot;mousepad&quot;, qty: 25, tags: [&quot;gel&quot;, &quot;blue&quot;], size: { h: 19, w: 22.85, uom: &quot;cm&quot; } }</span></span>
<span class="line"><span>... ])</span></span>
<span class="line"><span>{</span></span>
<span class="line"><span>        &quot;acknowledged&quot; : true,</span></span>
<span class="line"><span>        &quot;insertedIds&quot; : [</span></span>
<span class="line"><span>                ObjectId(&quot;5f1f8aa8099483199e74737d&quot;),</span></span>
<span class="line"><span>                ObjectId(&quot;5f1f8aa8099483199e74737e&quot;),</span></span>
<span class="line"><span>                ObjectId(&quot;5f1f8aa8099483199e74737f&quot;)</span></span>
<span class="line"><span>        ]</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>&gt; db.inventory.find( {} )</span></span>
<span class="line"><span>{ &quot;_id&quot; : ObjectId(&quot;5f1f8a9a099483199e74737c&quot;), &quot;item&quot; : &quot;canvas&quot;, &quot;qty&quot; : 100, &quot;tags&quot; : [ &quot;cotton&quot; ], &quot;size&quot; : { &quot;h&quot; : 28, &quot;w&quot; : 35.5, &quot;uom&quot; : &quot;cm&quot; } }</span></span>
<span class="line"><span>{ &quot;_id&quot; : ObjectId(&quot;5f1f8aa8099483199e74737d&quot;), &quot;item&quot; : &quot;journal&quot;, &quot;qty&quot; : 25, &quot;tags&quot; : [ &quot;blank&quot;, &quot;red&quot; ], &quot;size&quot; : { &quot;h&quot; : 14, &quot;w&quot; : 21, &quot;uom&quot; : &quot;cm&quot; } }</span></span>
<span class="line"><span>{ &quot;_id&quot; : ObjectId(&quot;5f1f8aa8099483199e74737e&quot;), &quot;item&quot; : &quot;mat&quot;, &quot;qty&quot; : 85, &quot;tags&quot; : [ &quot;gray&quot; ], &quot;size&quot; : { &quot;h&quot; : 27.9, &quot;w&quot; : 35.5, &quot;uom&quot; : &quot;cm&quot; } }</span></span>
<span class="line"><span>{ &quot;_id&quot; : ObjectId(&quot;5f1f8aa8099483199e74737f&quot;), &quot;item&quot; : &quot;mousepad&quot;, &quot;qty&quot; : 25, &quot;tags&quot; : [ &quot;gel&quot;, &quot;blue&quot; ], &quot;size&quot; : { &quot;h&quot; : 19, &quot;w&quot; : 22.85, &quot;uom&quot; : &quot;cm&quot; } }</span></span>
<span class="line"><span>&gt;</span></span></code></pre></div><ul><li>更多文档资料</li></ul><p><a href="https://docs.mongodb.com/v3.6/tutorial/insert-documents/" target="_blank" rel="noreferrer">官方相关文档在新窗口打开</a></p><p><a href="https://docs.mongodb.com/v3.6/reference/method/db.collection.insert/#db.collection.insert" target="_blank" rel="noreferrer">官方相关示例 - Insert在新窗口打开</a></p><p><a href="https://docs.mongodb.com/v3.6/reference/method/db.collection.insertOne/" target="_blank" rel="noreferrer">官方相关示例 - InsertOne在新窗口打开</a></p><p><a href="https://docs.mongodb.com/v3.6/reference/method/db.collection.insertMany/" target="_blank" rel="noreferrer">官方相关示例 - InsertMany在新窗口打开</a></p><h3 id="query" tabindex="-1">Query <a class="header-anchor" href="#query" aria-label="Permalink to &quot;Query&quot;">​</a></h3><ul><li>图例</li></ul><p><img src="`+p+`" alt=""></p><ul><li>示例</li></ul><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>&gt; db.inventory.find( {} )</span></span>
<span class="line"><span>{ &quot;_id&quot; : ObjectId(&quot;5f1f8a9a099483199e74737c&quot;), &quot;item&quot; : &quot;canvas&quot;, &quot;qty&quot; : 100, &quot;tags&quot; : [ &quot;cotton&quot; ], &quot;size&quot; : { &quot;h&quot; : 28, &quot;w&quot; : 35.5, &quot;uom&quot; : &quot;cm&quot; } }</span></span>
<span class="line"><span>{ &quot;_id&quot; : ObjectId(&quot;5f1f8aa8099483199e74737d&quot;), &quot;item&quot; : &quot;journal&quot;, &quot;qty&quot; : 25, &quot;tags&quot; : [ &quot;blank&quot;, &quot;red&quot; ], &quot;size&quot; : { &quot;h&quot; : 14, &quot;w&quot; : 21, &quot;uom&quot; : &quot;cm&quot; } }</span></span>
<span class="line"><span>{ &quot;_id&quot; : ObjectId(&quot;5f1f8aa8099483199e74737e&quot;), &quot;item&quot; : &quot;mat&quot;, &quot;qty&quot; : 85, &quot;tags&quot; : [ &quot;gray&quot; ], &quot;size&quot; : { &quot;h&quot; : 27.9, &quot;w&quot; : 35.5, &quot;uom&quot; : &quot;cm&quot; } }</span></span>
<span class="line"><span>{ &quot;_id&quot; : ObjectId(&quot;5f1f8aa8099483199e74737f&quot;), &quot;item&quot; : &quot;mousepad&quot;, &quot;qty&quot; : 25, &quot;tags&quot; : [ &quot;gel&quot;, &quot;blue&quot; ], &quot;size&quot; : { &quot;h&quot; : 19, &quot;w&quot; : 22.85, &quot;uom&quot; : &quot;cm&quot; } }</span></span>
<span class="line"><span>{ &quot;_id&quot; : ObjectId(&quot;5f1f94de4326f1d6a51d3a78&quot;), &quot;item&quot; : &quot;journal&quot;, &quot;qty&quot; : 25, &quot;size&quot; : { &quot;h&quot; : 14, &quot;w&quot; : 21, &quot;uom&quot; : &quot;cm&quot; }, &quot;status&quot; : &quot;A&quot; }</span></span>
<span class="line"><span>{ &quot;_id&quot; : ObjectId(&quot;5f1f94de4326f1d6a51d3a79&quot;), &quot;item&quot; : &quot;notebook&quot;, &quot;qty&quot; : 50, &quot;size&quot; : { &quot;h&quot; : 8.5, &quot;w&quot; : 11, &quot;uom&quot; : &quot;in&quot; }, &quot;status&quot; : &quot;A&quot; }</span></span>
<span class="line"><span>{ &quot;_id&quot; : ObjectId(&quot;5f1f94de4326f1d6a51d3a7a&quot;), &quot;item&quot; : &quot;paper&quot;, &quot;qty&quot; : 100, &quot;size&quot; : { &quot;h&quot; : 8.5, &quot;w&quot; : 11, &quot;uom&quot; : &quot;in&quot; }, &quot;status&quot; : &quot;D&quot; }</span></span>
<span class="line"><span>{ &quot;_id&quot; : ObjectId(&quot;5f1f94de4326f1d6a51d3a7b&quot;), &quot;item&quot; : &quot;planner&quot;, &quot;qty&quot; : 75, &quot;size&quot; : { &quot;h&quot; : 22.85, &quot;w&quot; : 30, &quot;uom&quot; : &quot;cm&quot; }, &quot;status&quot; : &quot;D&quot; }</span></span>
<span class="line"><span>{ &quot;_id&quot; : ObjectId(&quot;5f1f94de4326f1d6a51d3a7c&quot;), &quot;item&quot; : &quot;postcard&quot;, &quot;qty&quot; : 45, &quot;size&quot; : { &quot;h&quot; : 10, &quot;w&quot; : 15.25, &quot;uom&quot; : &quot;cm&quot; }, &quot;status&quot; : &quot;A&quot; }</span></span>
<span class="line"><span>&gt; db.inventory.find( { status: &quot;D&quot; } )</span></span>
<span class="line"><span>{ &quot;_id&quot; : ObjectId(&quot;5f1f94de4326f1d6a51d3a7a&quot;), &quot;item&quot; : &quot;paper&quot;, &quot;qty&quot; : 100, &quot;size&quot; : { &quot;h&quot; : 8.5, &quot;w&quot; : 11, &quot;uom&quot; : &quot;in&quot; }, &quot;status&quot; : &quot;D&quot; }</span></span>
<span class="line"><span>{ &quot;_id&quot; : ObjectId(&quot;5f1f94de4326f1d6a51d3a7b&quot;), &quot;item&quot; : &quot;planner&quot;, &quot;qty&quot; : 75, &quot;size&quot; : { &quot;h&quot; : 22.85, &quot;w&quot; : 30, &quot;uom&quot; : &quot;cm&quot; }, &quot;status&quot; : &quot;D&quot; }</span></span>
<span class="line"><span>&gt; db.inventory.find( { status: { $in: [ &quot;A&quot;, &quot;D&quot; ] } } )</span></span>
<span class="line"><span>{ &quot;_id&quot; : ObjectId(&quot;5f1f94de4326f1d6a51d3a78&quot;), &quot;item&quot; : &quot;journal&quot;, &quot;qty&quot; : 25, &quot;size&quot; : { &quot;h&quot; : 14, &quot;w&quot; : 21, &quot;uom&quot; : &quot;cm&quot; }, &quot;status&quot; : &quot;A&quot; }</span></span>
<span class="line"><span>{ &quot;_id&quot; : ObjectId(&quot;5f1f94de4326f1d6a51d3a79&quot;), &quot;item&quot; : &quot;notebook&quot;, &quot;qty&quot; : 50, &quot;size&quot; : { &quot;h&quot; : 8.5, &quot;w&quot; : 11, &quot;uom&quot; : &quot;in&quot; }, &quot;status&quot; : &quot;A&quot; }</span></span>
<span class="line"><span>{ &quot;_id&quot; : ObjectId(&quot;5f1f94de4326f1d6a51d3a7a&quot;), &quot;item&quot; : &quot;paper&quot;, &quot;qty&quot; : 100, &quot;size&quot; : { &quot;h&quot; : 8.5, &quot;w&quot; : 11, &quot;uom&quot; : &quot;in&quot; }, &quot;status&quot; : &quot;D&quot; }</span></span>
<span class="line"><span>{ &quot;_id&quot; : ObjectId(&quot;5f1f94de4326f1d6a51d3a7b&quot;), &quot;item&quot; : &quot;planner&quot;, &quot;qty&quot; : 75, &quot;size&quot; : { &quot;h&quot; : 22.85, &quot;w&quot; : 30, &quot;uom&quot; : &quot;cm&quot; }, &quot;status&quot; : &quot;D&quot; }</span></span>
<span class="line"><span>{ &quot;_id&quot; : ObjectId(&quot;5f1f94de4326f1d6a51d3a7c&quot;), &quot;item&quot; : &quot;postcard&quot;, &quot;qty&quot; : 45, &quot;size&quot; : { &quot;h&quot; : 10, &quot;w&quot; : 15.25, &quot;uom&quot; : &quot;cm&quot; }, &quot;status&quot; : &quot;A&quot; }</span></span>
<span class="line"><span>&gt; db.inventory.find( { status: &quot;A&quot;, qty: { $lt: 30 } } )</span></span>
<span class="line"><span>{ &quot;_id&quot; : ObjectId(&quot;5f1f94de4326f1d6a51d3a78&quot;), &quot;item&quot; : &quot;journal&quot;, &quot;qty&quot; : 25, &quot;size&quot; : { &quot;h&quot; : 14, &quot;w&quot; : 21, &quot;uom&quot; : &quot;cm&quot; }, &quot;status&quot; : &quot;A&quot; }</span></span>
<span class="line"><span>&gt; db.inventory.find( { $or: [ { status: &quot;A&quot; }, { qty: { $lt: 30 } } ] } )</span></span>
<span class="line"><span>{ &quot;_id&quot; : ObjectId(&quot;5f1f8aa8099483199e74737d&quot;), &quot;item&quot; : &quot;journal&quot;, &quot;qty&quot; : 25, &quot;tags&quot; : [ &quot;blank&quot;, &quot;red&quot; ], &quot;size&quot; : { &quot;h&quot; : 14, &quot;w&quot; : 21, &quot;uom&quot; : &quot;cm&quot; } }</span></span>
<span class="line"><span>{ &quot;_id&quot; : ObjectId(&quot;5f1f8aa8099483199e74737f&quot;), &quot;item&quot; : &quot;mousepad&quot;, &quot;qty&quot; : 25, &quot;tags&quot; : [ &quot;gel&quot;, &quot;blue&quot; ], &quot;size&quot; : { &quot;h&quot; : 19, &quot;w&quot; : 22.85, &quot;uom&quot; : &quot;cm&quot; } }</span></span>
<span class="line"><span>{ &quot;_id&quot; : ObjectId(&quot;5f1f94de4326f1d6a51d3a78&quot;), &quot;item&quot; : &quot;journal&quot;, &quot;qty&quot; : 25, &quot;size&quot; : { &quot;h&quot; : 14, &quot;w&quot; : 21, &quot;uom&quot; : &quot;cm&quot; }, &quot;status&quot; : &quot;A&quot; }</span></span>
<span class="line"><span>{ &quot;_id&quot; : ObjectId(&quot;5f1f94de4326f1d6a51d3a79&quot;), &quot;item&quot; : &quot;notebook&quot;, &quot;qty&quot; : 50, &quot;size&quot; : { &quot;h&quot; : 8.5, &quot;w&quot; : 11, &quot;uom&quot; : &quot;in&quot; }, &quot;status&quot; : &quot;A&quot; }</span></span>
<span class="line"><span>{ &quot;_id&quot; : ObjectId(&quot;5f1f94de4326f1d6a51d3a7c&quot;), &quot;item&quot; : &quot;postcard&quot;, &quot;qty&quot; : 45, &quot;size&quot; : { &quot;h&quot; : 10, &quot;w&quot; : 15.25, &quot;uom&quot; : &quot;cm&quot; }, &quot;status&quot; : &quot;A&quot; }</span></span>
<span class="line"><span>&gt; db.inventory.find( {</span></span>
<span class="line"><span>...      status: &quot;A&quot;,</span></span>
<span class="line"><span>...      $or: [ { qty: { $lt: 30 } }, { item: /^p/ } ]</span></span>
<span class="line"><span>... } )</span></span>
<span class="line"><span>{ &quot;_id&quot; : ObjectId(&quot;5f1f94de4326f1d6a51d3a78&quot;), &quot;item&quot; : &quot;journal&quot;, &quot;qty&quot; : 25, &quot;size&quot; : { &quot;h&quot; : 14, &quot;w&quot; : 21, &quot;uom&quot; : &quot;cm&quot; }, &quot;status&quot; : &quot;A&quot; }</span></span>
<span class="line"><span>{ &quot;_id&quot; : ObjectId(&quot;5f1f94de4326f1d6a51d3a7c&quot;), &quot;item&quot; : &quot;postcard&quot;, &quot;qty&quot; : 45, &quot;size&quot; : { &quot;h&quot; : 10, &quot;w&quot; : 15.25, &quot;uom&quot; : &quot;cm&quot; }, &quot;status&quot; : &quot;A&quot; }</span></span>
<span class="line"><span>&gt;</span></span></code></pre></div><ul><li>更多文档资料</li></ul><p><a href="https://docs.mongodb.com/v3.6/tutorial/query-documents/" target="_blank" rel="noreferrer">官方相关文档在新窗口打开</a></p><p><a href="https://docs.mongodb.com/v3.6/reference/method/db.collection.find/" target="_blank" rel="noreferrer">官方相关示例 - find在新窗口打开</a></p><p><a href="https://docs.mongodb.com/v3.6/reference/method/db.collection.findOne/" target="_blank" rel="noreferrer">官方相关示例 - findOne在新窗口打开</a></p><p><a href="https://docs.mongodb.com/v3.6/reference/method/db.collection.findAndModify/" target="_blank" rel="noreferrer">官方相关示例 - findAndModify在新窗口打开</a></p><p><a href="https://docs.mongodb.com/v3.6/reference/method/db.collection.findOneAndDelete/" target="_blank" rel="noreferrer">官方相关示例 - findOneAndDelete在新窗口打开</a></p><p><a href="https://docs.mongodb.com/v3.6/reference/method/db.collection.findOneAndReplace/" target="_blank" rel="noreferrer">官方相关示例 - findOneAndReplace在新窗口打开</a></p><p><a href="https://docs.mongodb.com/v3.6/reference/method/db.collection.findOneAndUpdate/" target="_blank" rel="noreferrer">官方相关示例 - findOneAndUpdate在新窗口打开</a></p><h3 id="update" tabindex="-1">Update <a class="header-anchor" href="#update" aria-label="Permalink to &quot;Update&quot;">​</a></h3><ul><li>图例</li></ul><p><img src="`+i+`" alt=""></p><ul><li>示例</li></ul><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>&gt; db.inventory.insertMany( [</span></span>
<span class="line"><span>...    { item: &quot;canvas&quot;, qty: 100, size: { h: 28, w: 35.5, uom: &quot;cm&quot; }, status: &quot;A&quot; },</span></span>
<span class="line"><span>...    { item: &quot;journal&quot;, qty: 25, size: { h: 14, w: 21, uom: &quot;cm&quot; }, status: &quot;A&quot; },</span></span>
<span class="line"><span>...    { item: &quot;mat&quot;, qty: 85, size: { h: 27.9, w: 35.5, uom: &quot;cm&quot; }, status: &quot;A&quot; },</span></span>
<span class="line"><span>...    { item: &quot;mousepad&quot;, qty: 25, size: { h: 19, w: 22.85, uom: &quot;cm&quot; }, status: &quot;P&quot; },</span></span>
<span class="line"><span>...    { item: &quot;notebook&quot;, qty: 50, size: { h: 8.5, w: 11, uom: &quot;in&quot; }, status: &quot;P&quot; },</span></span>
<span class="line"><span>...    { item: &quot;paper&quot;, qty: 100, size: { h: 8.5, w: 11, uom: &quot;in&quot; }, status: &quot;D&quot; },</span></span>
<span class="line"><span>...    { item: &quot;planner&quot;, qty: 75, size: { h: 22.85, w: 30, uom: &quot;cm&quot; }, status: &quot;D&quot; },</span></span>
<span class="line"><span>...    { item: &quot;postcard&quot;, qty: 45, size: { h: 10, w: 15.25, uom: &quot;cm&quot; }, status: &quot;A&quot; },</span></span>
<span class="line"><span>...    { item: &quot;sketchbook&quot;, qty: 80, size: { h: 14, w: 21, uom: &quot;cm&quot; }, status: &quot;A&quot; },</span></span>
<span class="line"><span>...    { item: &quot;sketch pad&quot;, qty: 95, size: { h: 22.85, w: 30.5, uom: &quot;cm&quot; }, status: &quot;A&quot; }</span></span>
<span class="line"><span>... ] );</span></span>
<span class="line"><span>{</span></span>
<span class="line"><span>        &quot;acknowledged&quot; : true,</span></span>
<span class="line"><span>        &quot;insertedIds&quot; : [</span></span>
<span class="line"><span>                ObjectId(&quot;5f1f96cf4326f1d6a51d3a7d&quot;),</span></span>
<span class="line"><span>                ObjectId(&quot;5f1f96cf4326f1d6a51d3a7e&quot;),</span></span>
<span class="line"><span>                ObjectId(&quot;5f1f96cf4326f1d6a51d3a7f&quot;),</span></span>
<span class="line"><span>                ObjectId(&quot;5f1f96cf4326f1d6a51d3a80&quot;),</span></span>
<span class="line"><span>                ObjectId(&quot;5f1f96cf4326f1d6a51d3a81&quot;),</span></span>
<span class="line"><span>                ObjectId(&quot;5f1f96cf4326f1d6a51d3a82&quot;),</span></span>
<span class="line"><span>                ObjectId(&quot;5f1f96cf4326f1d6a51d3a83&quot;),</span></span>
<span class="line"><span>                ObjectId(&quot;5f1f96cf4326f1d6a51d3a84&quot;),</span></span>
<span class="line"><span>                ObjectId(&quot;5f1f96cf4326f1d6a51d3a85&quot;),</span></span>
<span class="line"><span>                ObjectId(&quot;5f1f96cf4326f1d6a51d3a86&quot;)</span></span>
<span class="line"><span>        ]</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>&gt; db.inventory.updateOne(</span></span>
<span class="line"><span>...    { item: &quot;paper&quot; },</span></span>
<span class="line"><span>...    {</span></span>
<span class="line"><span>...      $set: { &quot;size.uom&quot;: &quot;cm&quot;, status: &quot;P&quot; },</span></span>
<span class="line"><span>...      $currentDate: { lastModified: true }</span></span>
<span class="line"><span>...    }</span></span>
<span class="line"><span>... )</span></span>
<span class="line"><span>{ &quot;acknowledged&quot; : true, &quot;matchedCount&quot; : 1, &quot;modifiedCount&quot; : 1 }</span></span>
<span class="line"><span>&gt; db.inventory.find( {} )</span></span>
<span class="line"><span>{ &quot;_id&quot; : ObjectId(&quot;5f1f96cf4326f1d6a51d3a7d&quot;), &quot;item&quot; : &quot;canvas&quot;, &quot;qty&quot; : 100, &quot;size&quot; : { &quot;h&quot; : 28, &quot;w&quot; : 35.5, &quot;uom&quot; : &quot;cm&quot; }, &quot;status&quot; : &quot;A&quot; }</span></span>
<span class="line"><span>{ &quot;_id&quot; : ObjectId(&quot;5f1f96cf4326f1d6a51d3a7e&quot;), &quot;item&quot; : &quot;journal&quot;, &quot;qty&quot; : 25, &quot;size&quot; : { &quot;h&quot; : 14, &quot;w&quot; : 21, &quot;uom&quot; : &quot;cm&quot; }, &quot;status&quot; : &quot;A&quot; }</span></span>
<span class="line"><span>{ &quot;_id&quot; : ObjectId(&quot;5f1f96cf4326f1d6a51d3a7f&quot;), &quot;item&quot; : &quot;mat&quot;, &quot;qty&quot; : 85, &quot;size&quot; : { &quot;h&quot; : 27.9, &quot;w&quot; : 35.5, &quot;uom&quot; : &quot;cm&quot; }, &quot;status&quot; : &quot;A&quot; }</span></span>
<span class="line"><span>{ &quot;_id&quot; : ObjectId(&quot;5f1f96cf4326f1d6a51d3a80&quot;), &quot;item&quot; : &quot;mousepad&quot;, &quot;qty&quot; : 25, &quot;size&quot; : { &quot;h&quot; : 19, &quot;w&quot; : 22.85, &quot;uom&quot; : &quot;cm&quot; }, &quot;status&quot; : &quot;P&quot; }</span></span>
<span class="line"><span>{ &quot;_id&quot; : ObjectId(&quot;5f1f96cf4326f1d6a51d3a81&quot;), &quot;item&quot; : &quot;notebook&quot;, &quot;qty&quot; : 50, &quot;size&quot; : { &quot;h&quot; : 8.5, &quot;w&quot; : 11, &quot;uom&quot; : &quot;in&quot; }, &quot;status&quot; : &quot;P&quot; }</span></span>
<span class="line"><span>{ &quot;_id&quot; : ObjectId(&quot;5f1f96cf4326f1d6a51d3a82&quot;), &quot;item&quot; : &quot;paper&quot;, &quot;qty&quot; : 100, &quot;size&quot; : { &quot;h&quot; : 8.5, &quot;w&quot; : 11, &quot;uom&quot; : &quot;cm&quot; }, &quot;status&quot; : &quot;P&quot;, &quot;lastModified&quot; : ISODate(&quot;2020-07-28T03:09:17.014Z&quot;) }</span></span>
<span class="line"><span>{ &quot;_id&quot; : ObjectId(&quot;5f1f96cf4326f1d6a51d3a83&quot;), &quot;item&quot; : &quot;planner&quot;, &quot;qty&quot; : 75, &quot;size&quot; : { &quot;h&quot; : 22.85, &quot;w&quot; : 30, &quot;uom&quot; : &quot;cm&quot; }, &quot;status&quot; : &quot;D&quot; }</span></span>
<span class="line"><span>{ &quot;_id&quot; : ObjectId(&quot;5f1f96cf4326f1d6a51d3a84&quot;), &quot;item&quot; : &quot;postcard&quot;, &quot;qty&quot; : 45, &quot;size&quot; : { &quot;h&quot; : 10, &quot;w&quot; : 15.25, &quot;uom&quot; : &quot;cm&quot; }, &quot;status&quot; : &quot;A&quot; }</span></span>
<span class="line"><span>{ &quot;_id&quot; : ObjectId(&quot;5f1f96cf4326f1d6a51d3a85&quot;), &quot;item&quot; : &quot;sketchbook&quot;, &quot;qty&quot; : 80, &quot;size&quot; : { &quot;h&quot; : 14, &quot;w&quot; : 21, &quot;uom&quot; : &quot;cm&quot; }, &quot;status&quot; : &quot;A&quot; }</span></span>
<span class="line"><span>{ &quot;_id&quot; : ObjectId(&quot;5f1f96cf4326f1d6a51d3a86&quot;), &quot;item&quot; : &quot;sketch pad&quot;, &quot;qty&quot; : 95, &quot;size&quot; : { &quot;h&quot; : 22.85, &quot;w&quot; : 30.5, &quot;uom&quot; : &quot;cm&quot; }, &quot;status&quot; : &quot;A&quot; }</span></span></code></pre></div><p>updateMany</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>&gt; db.inventory.updateMany(</span></span>
<span class="line"><span>...    { &quot;qty&quot;: { $lt: 50 } },</span></span>
<span class="line"><span>...    {</span></span>
<span class="line"><span>...      $set: { &quot;size.uom&quot;: &quot;in&quot;, status: &quot;P&quot; },</span></span>
<span class="line"><span>...      $currentDate: { lastModified: true }</span></span>
<span class="line"><span>...    }</span></span>
<span class="line"><span>... )</span></span>
<span class="line"><span>{ &quot;acknowledged&quot; : true, &quot;matchedCount&quot; : 3, &quot;modifiedCount&quot; : 3 }</span></span>
<span class="line"><span>&gt; db.inventory.find( {} )</span></span>
<span class="line"><span>{ &quot;_id&quot; : ObjectId(&quot;5f1f96cf4326f1d6a51d3a7d&quot;), &quot;item&quot; : &quot;canvas&quot;, &quot;qty&quot; : 100, &quot;size&quot; : { &quot;h&quot; : 28, &quot;w&quot; : 35.5, &quot;uom&quot; : &quot;cm&quot; }, &quot;status&quot; : &quot;A&quot; }</span></span>
<span class="line"><span>{ &quot;_id&quot; : ObjectId(&quot;5f1f96cf4326f1d6a51d3a7e&quot;), &quot;item&quot; : &quot;journal&quot;, &quot;qty&quot; : 25, &quot;size&quot; : { &quot;h&quot; : 14, &quot;w&quot; : 21, &quot;uom&quot; : &quot;in&quot; }, &quot;status&quot; : &quot;P&quot;, &quot;lastModified&quot; : ISODate(&quot;2020-07-28T04:33:50.391Z&quot;) }</span></span>
<span class="line"><span>{ &quot;_id&quot; : ObjectId(&quot;5f1f96cf4326f1d6a51d3a7f&quot;), &quot;item&quot; : &quot;mat&quot;, &quot;qty&quot; : 85, &quot;size&quot; : { &quot;h&quot; : 27.9, &quot;w&quot; : 35.5, &quot;uom&quot; : &quot;cm&quot; }, &quot;status&quot; : &quot;A&quot; }</span></span>
<span class="line"><span>{ &quot;_id&quot; : ObjectId(&quot;5f1f96cf4326f1d6a51d3a80&quot;), &quot;item&quot; : &quot;mousepad&quot;, &quot;qty&quot; : 25, &quot;size&quot; : { &quot;h&quot; : 19, &quot;w&quot; : 22.85, &quot;uom&quot; : &quot;in&quot; }, &quot;status&quot; : &quot;P&quot;, &quot;lastModified&quot; : ISODate(&quot;2020-07-28T04:33:50.391Z&quot;) }</span></span>
<span class="line"><span>{ &quot;_id&quot; : ObjectId(&quot;5f1f96cf4326f1d6a51d3a81&quot;), &quot;item&quot; : &quot;notebook&quot;, &quot;qty&quot; : 50, &quot;size&quot; : { &quot;h&quot; : 8.5, &quot;w&quot; : 11, &quot;uom&quot; : &quot;in&quot; }, &quot;status&quot; : &quot;P&quot; }</span></span>
<span class="line"><span>{ &quot;_id&quot; : ObjectId(&quot;5f1f96cf4326f1d6a51d3a82&quot;), &quot;item&quot; : &quot;paper&quot;, &quot;qty&quot; : 100, &quot;size&quot; : { &quot;h&quot; : 8.5, &quot;w&quot; : 11, &quot;uom&quot; : &quot;cm&quot; }, &quot;status&quot; : &quot;P&quot;, &quot;lastModified&quot; : ISODate(&quot;2020-07-28T03:09:17.014Z&quot;) }</span></span>
<span class="line"><span>{ &quot;_id&quot; : ObjectId(&quot;5f1f96cf4326f1d6a51d3a83&quot;), &quot;item&quot; : &quot;planner&quot;, &quot;qty&quot; : 75, &quot;size&quot; : { &quot;h&quot; : 22.85, &quot;w&quot; : 30, &quot;uom&quot; : &quot;cm&quot; }, &quot;status&quot; : &quot;D&quot; }</span></span>
<span class="line"><span>{ &quot;_id&quot; : ObjectId(&quot;5f1f96cf4326f1d6a51d3a84&quot;), &quot;item&quot; : &quot;postcard&quot;, &quot;qty&quot; : 45, &quot;size&quot; : { &quot;h&quot; : 10, &quot;w&quot; : 15.25, &quot;uom&quot; : &quot;in&quot; }, &quot;status&quot; : &quot;P&quot;, &quot;lastModified&quot; : ISODate(&quot;2020-07-28T04:33:50.392Z&quot;) }</span></span>
<span class="line"><span>{ &quot;_id&quot; : ObjectId(&quot;5f1f96cf4326f1d6a51d3a85&quot;), &quot;item&quot; : &quot;sketchbook&quot;, &quot;qty&quot; : 80, &quot;size&quot; : { &quot;h&quot; : 14, &quot;w&quot; : 21, &quot;uom&quot; : &quot;cm&quot; }, &quot;status&quot; : &quot;A&quot; }</span></span>
<span class="line"><span>{ &quot;_id&quot; : ObjectId(&quot;5f1f96cf4326f1d6a51d3a86&quot;), &quot;item&quot; : &quot;sketch pad&quot;, &quot;qty&quot; : 95, &quot;size&quot; : { &quot;h&quot; : 22.85, &quot;w&quot; : 30.5, &quot;uom&quot; : &quot;cm&quot; }, &quot;status&quot; : &quot;A&quot; }</span></span>
<span class="line"><span>&gt;</span></span></code></pre></div><p>replace one</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>&gt; db.inventory.replaceOne(</span></span>
<span class="line"><span>...    { item: &quot;paper&quot; },</span></span>
<span class="line"><span>...    { item: &quot;paper&quot;, instock: [ { warehouse: &quot;A&quot;, qty: 60 }, { warehouse: &quot;B&quot;, qty: 40 } ] }</span></span>
<span class="line"><span>... )</span></span>
<span class="line"><span>{ &quot;acknowledged&quot; : true, &quot;matchedCount&quot; : 1, &quot;modifiedCount&quot; : 1 }</span></span>
<span class="line"><span>&gt; db.inventory.find( {} )</span></span>
<span class="line"><span>{ &quot;_id&quot; : ObjectId(&quot;5f1f96cf4326f1d6a51d3a7d&quot;), &quot;item&quot; : &quot;canvas&quot;, &quot;qty&quot; : 100, &quot;size&quot; : { &quot;h&quot; : 28, &quot;w&quot; : 35.5, &quot;uom&quot; : &quot;cm&quot; }, &quot;status&quot; : &quot;A&quot; }</span></span>
<span class="line"><span>{ &quot;_id&quot; : ObjectId(&quot;5f1f96cf4326f1d6a51d3a7e&quot;), &quot;item&quot; : &quot;journal&quot;, &quot;qty&quot; : 25, &quot;size&quot; : { &quot;h&quot; : 14, &quot;w&quot; : 21, &quot;uom&quot; : &quot;in&quot; }, &quot;status&quot; : &quot;P&quot;, &quot;lastModified&quot; : ISODate(&quot;2020-07-28T04:33:50.391Z&quot;) }</span></span>
<span class="line"><span>{ &quot;_id&quot; : ObjectId(&quot;5f1f96cf4326f1d6a51d3a7f&quot;), &quot;item&quot; : &quot;mat&quot;, &quot;qty&quot; : 85, &quot;size&quot; : { &quot;h&quot; : 27.9, &quot;w&quot; : 35.5, &quot;uom&quot; : &quot;cm&quot; }, &quot;status&quot; : &quot;A&quot; }</span></span>
<span class="line"><span>{ &quot;_id&quot; : ObjectId(&quot;5f1f96cf4326f1d6a51d3a80&quot;), &quot;item&quot; : &quot;mousepad&quot;, &quot;qty&quot; : 25, &quot;size&quot; : { &quot;h&quot; : 19, &quot;w&quot; : 22.85, &quot;uom&quot; : &quot;in&quot; }, &quot;status&quot; : &quot;P&quot;, &quot;lastModified&quot; : ISODate(&quot;2020-07-28T04:33:50.391Z&quot;) }</span></span>
<span class="line"><span>{ &quot;_id&quot; : ObjectId(&quot;5f1f96cf4326f1d6a51d3a81&quot;), &quot;item&quot; : &quot;notebook&quot;, &quot;qty&quot; : 50, &quot;size&quot; : { &quot;h&quot; : 8.5, &quot;w&quot; : 11, &quot;uom&quot; : &quot;in&quot; }, &quot;status&quot; : &quot;P&quot; }</span></span>
<span class="line"><span>{ &quot;_id&quot; : ObjectId(&quot;5f1f96cf4326f1d6a51d3a82&quot;), &quot;item&quot; : &quot;paper&quot;, &quot;instock&quot; : [ { &quot;warehouse&quot; : &quot;A&quot;, &quot;qty&quot; : 60 }, { &quot;warehouse&quot; : &quot;B&quot;, &quot;qty&quot; : 40 } ] }</span></span>
<span class="line"><span>{ &quot;_id&quot; : ObjectId(&quot;5f1f96cf4326f1d6a51d3a83&quot;), &quot;item&quot; : &quot;planner&quot;, &quot;qty&quot; : 75, &quot;size&quot; : { &quot;h&quot; : 22.85, &quot;w&quot; : 30, &quot;uom&quot; : &quot;cm&quot; }, &quot;status&quot; : &quot;D&quot; }</span></span>
<span class="line"><span>{ &quot;_id&quot; : ObjectId(&quot;5f1f96cf4326f1d6a51d3a84&quot;), &quot;item&quot; : &quot;postcard&quot;, &quot;qty&quot; : 45, &quot;size&quot; : { &quot;h&quot; : 10, &quot;w&quot; : 15.25, &quot;uom&quot; : &quot;in&quot; }, &quot;status&quot; : &quot;P&quot;, &quot;lastModified&quot; : ISODate(&quot;2020-07-28T04:33:50.392Z&quot;) }</span></span>
<span class="line"><span>{ &quot;_id&quot; : ObjectId(&quot;5f1f96cf4326f1d6a51d3a85&quot;), &quot;item&quot; : &quot;sketchbook&quot;, &quot;qty&quot; : 80, &quot;size&quot; : { &quot;h&quot; : 14, &quot;w&quot; : 21, &quot;uom&quot; : &quot;cm&quot; }, &quot;status&quot; : &quot;A&quot; }</span></span>
<span class="line"><span>{ &quot;_id&quot; : ObjectId(&quot;5f1f96cf4326f1d6a51d3a86&quot;), &quot;item&quot; : &quot;sketch pad&quot;, &quot;qty&quot; : 95, &quot;size&quot; : { &quot;h&quot; : 22.85, &quot;w&quot; : 30.5, &quot;uom&quot; : &quot;cm&quot; }, &quot;status&quot; : &quot;A&quot; }</span></span>
<span class="line"><span>&gt;</span></span></code></pre></div><ul><li>更多文档资料</li></ul><p><a href="https://docs.mongodb.com/v3.6/tutorial/update-documents/" target="_blank" rel="noreferrer">官方相关文档在新窗口打开</a></p><p><a href="https://docs.mongodb.com/v3.6/reference/method/db.collection.update/" target="_blank" rel="noreferrer">官方相关示例 - update在新窗口打开</a></p><p><a href="https://docs.mongodb.com/v3.6/reference/method/db.collection.updateOne/" target="_blank" rel="noreferrer">官方相关示例 - updateOne在新窗口打开</a></p><p><a href="https://docs.mongodb.com/v3.6/reference/method/db.collection.updateMany/" target="_blank" rel="noreferrer">官方相关示例 - updateMany在新窗口打开</a></p><h3 id="delete" tabindex="-1">Delete <a class="header-anchor" href="#delete" aria-label="Permalink to &quot;Delete&quot;">​</a></h3><ul><li>图例</li></ul><p><img src="`+l+`" alt=""></p><ul><li>示例</li></ul><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>&gt; db.inventory.deleteMany({ status : &quot;A&quot; })</span></span>
<span class="line"><span>{ &quot;acknowledged&quot; : true, &quot;deletedCount&quot; : 4 }</span></span>
<span class="line"><span>&gt; db.inventory.find( {} )</span></span>
<span class="line"><span>{ &quot;_id&quot; : ObjectId(&quot;5f1f96cf4326f1d6a51d3a7e&quot;), &quot;item&quot; : &quot;journal&quot;, &quot;qty&quot; : 25, &quot;size&quot; : { &quot;h&quot; : 14, &quot;w&quot; : 21, &quot;uom&quot; : &quot;in&quot; }, &quot;status&quot; : &quot;P&quot;, &quot;lastModified&quot; : ISODate(&quot;2020-07-28T04:33:50.391Z&quot;) }</span></span>
<span class="line"><span>{ &quot;_id&quot; : ObjectId(&quot;5f1f96cf4326f1d6a51d3a80&quot;), &quot;item&quot; : &quot;mousepad&quot;, &quot;qty&quot; : 25, &quot;size&quot; : { &quot;h&quot; : 19, &quot;w&quot; : 22.85, &quot;uom&quot; : &quot;in&quot; }, &quot;status&quot; : &quot;P&quot;, &quot;lastModified&quot; : ISODate(&quot;2020-07-28T04:33:50.391Z&quot;) }</span></span>
<span class="line"><span>{ &quot;_id&quot; : ObjectId(&quot;5f1f96cf4326f1d6a51d3a81&quot;), &quot;item&quot; : &quot;notebook&quot;, &quot;qty&quot; : 50, &quot;size&quot; : { &quot;h&quot; : 8.5, &quot;w&quot; : 11, &quot;uom&quot; : &quot;in&quot; }, &quot;status&quot; : &quot;P&quot; }</span></span>
<span class="line"><span>{ &quot;_id&quot; : ObjectId(&quot;5f1f96cf4326f1d6a51d3a82&quot;), &quot;item&quot; : &quot;paper&quot;, &quot;instock&quot; : [ { &quot;warehouse&quot; : &quot;A&quot;, &quot;qty&quot; : 60 }, { &quot;warehouse&quot; : &quot;B&quot;, &quot;qty&quot; : 40 } ] }</span></span>
<span class="line"><span>{ &quot;_id&quot; : ObjectId(&quot;5f1f96cf4326f1d6a51d3a83&quot;), &quot;item&quot; : &quot;planner&quot;, &quot;qty&quot; : 75, &quot;size&quot; : { &quot;h&quot; : 22.85, &quot;w&quot; : 30, &quot;uom&quot; : &quot;cm&quot; }, &quot;status&quot; : &quot;D&quot; }</span></span>
<span class="line"><span>{ &quot;_id&quot; : ObjectId(&quot;5f1f96cf4326f1d6a51d3a84&quot;), &quot;item&quot; : &quot;postcard&quot;, &quot;qty&quot; : 45, &quot;size&quot; : { &quot;h&quot; : 10, &quot;w&quot; : 15.25, &quot;uom&quot; : &quot;in&quot; }, &quot;status&quot; : &quot;P&quot;, &quot;lastModified&quot; : ISODate(&quot;2020-07-28T04:33:50.392Z&quot;) }</span></span></code></pre></div><ul><li>更多文档资料</li></ul><p><a href="https://docs.mongodb.com/v3.6/tutorial/remove-documents/" target="_blank" rel="noreferrer">官方相关文档在新窗口打开</a></p><p><a href="https://docs.mongodb.com/v3.6/reference/method/db.collection.remove/" target="_blank" rel="noreferrer">官方相关示例 - remove在新窗口打开</a></p><p><a href="https://docs.mongodb.com/v3.6/reference/method/db.collection.deleteOne/" target="_blank" rel="noreferrer">官方相关示例 - deleteOne在新窗口打开</a></p><p><a href="https://docs.mongodb.com/v3.6/reference/method/db.collection.deleteMany/" target="_blank" rel="noreferrer">官方相关示例 - deleteMany在新窗口打开</a></p><h3 id="bulkwrite" tabindex="-1">BulkWrite <a class="header-anchor" href="#bulkwrite" aria-label="Permalink to &quot;BulkWrite&quot;">​</a></h3><blockquote><p>本质是就是将上述的操作批量化。</p></blockquote><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>try {</span></span>
<span class="line"><span>   db.characters.bulkWrite(</span></span>
<span class="line"><span>      [</span></span>
<span class="line"><span>         { insertOne :</span></span>
<span class="line"><span>            {</span></span>
<span class="line"><span>               &quot;document&quot; :</span></span>
<span class="line"><span>               {</span></span>
<span class="line"><span>                  &quot;_id&quot; : 4, &quot;char&quot; : &quot;Dithras&quot;, &quot;class&quot; : &quot;barbarian&quot;, &quot;lvl&quot; : 4</span></span>
<span class="line"><span>               }</span></span>
<span class="line"><span>            }</span></span>
<span class="line"><span>         },</span></span>
<span class="line"><span>         { insertOne :</span></span>
<span class="line"><span>            {</span></span>
<span class="line"><span>               &quot;document&quot; :</span></span>
<span class="line"><span>               {</span></span>
<span class="line"><span>                  &quot;_id&quot; : 5, &quot;char&quot; : &quot;Taeln&quot;, &quot;class&quot; : &quot;fighter&quot;, &quot;lvl&quot; : 3</span></span>
<span class="line"><span>               }</span></span>
<span class="line"><span>            }</span></span>
<span class="line"><span>         },</span></span>
<span class="line"><span>         { updateOne :</span></span>
<span class="line"><span>            {</span></span>
<span class="line"><span>               &quot;filter&quot; : { &quot;char&quot; : &quot;Eldon&quot; },</span></span>
<span class="line"><span>               &quot;update&quot; : { $set : { &quot;status&quot; : &quot;Critical Injury&quot; } }</span></span>
<span class="line"><span>            }</span></span>
<span class="line"><span>         },</span></span>
<span class="line"><span>         { deleteOne :</span></span>
<span class="line"><span>            { &quot;filter&quot; : { &quot;char&quot; : &quot;Brisbane&quot;} }</span></span>
<span class="line"><span>         },</span></span>
<span class="line"><span>         { replaceOne :</span></span>
<span class="line"><span>            {</span></span>
<span class="line"><span>               &quot;filter&quot; : { &quot;char&quot; : &quot;Meldane&quot; },</span></span>
<span class="line"><span>               &quot;replacement&quot; : { &quot;char&quot; : &quot;Tanys&quot;, &quot;class&quot; : &quot;oracle&quot;, &quot;lvl&quot; : 4 }</span></span>
<span class="line"><span>            }</span></span>
<span class="line"><span>         }</span></span>
<span class="line"><span>      ]</span></span>
<span class="line"><span>   );</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>catch (e) {</span></span>
<span class="line"><span>   print(e);</span></span>
<span class="line"><span>}</span></span></code></pre></div><h2 id="参考文档" tabindex="-1">参考文档 <a class="header-anchor" href="#参考文档" aria-label="Permalink to &quot;参考文档&quot;">​</a></h2><ul><li><a href="https://docs.mongodb.com/v3.6/tutorial" target="_blank" rel="noreferrer">https://docs.mongodb.com/v3.6/tutorial</a></li></ul><p>本文转自 <a href="https://pdai.tech" target="_blank" rel="noreferrer">https://pdai.tech</a>，如有侵权，请联系删除。</p>`,81)]))}const v=o(d,[["render",c]]);export{y as __pageData,v as default};
